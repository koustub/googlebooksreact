{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/googlebooksreact/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/googlebooksreact/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/googlebooksreact/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import BookInfo from'./BookInfo';var booksArr=[];function Search(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchInput=_useState2[0],setSearchInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchBookResult=_useState4[0],setSearchBookResult=_useState4[1];function handleInputChange(e){var input=e.target.value;console.log(\"[input Received]\",input);setSearchInput(input);}var container={flex:1,flexDirection:'row',flexWrap:'wrap',padding:'20px'};function searchBooks(){return _searchBooks.apply(this,arguments);}function _searchBooks(){_searchBooks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var apiBooks,items,i,obj,bookObj,ObjForAll;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(searchInput,\"+intitle\")).then(function(result){return result.json();});case 2:apiBooks=_context.sent;console.log(\"[Object Received From Google Apis]\",apiBooks);items=apiBooks.items;for(i=1;i<items.length-2;i++){obj={title:\"title\".concat(i),image:\"image\".concat(i),desc:\"desc\".concat(i),i:\"\".concat(i)};bookObj=items[i].volumeInfo;ObjForAll={ids:obj,book:bookObj};booksArr.push(ObjForAll);};setSearchBookResult(booksArr);booksArr=[];case 9:case\"end\":return _context.stop();}}},_callee);}));return _searchBooks.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{class:\"container\"},/*#__PURE__*/React.createElement(\"div\",{class:\"input-group mt-5 mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",class:\"form-control\",value:searchInput,placeholder:\"Books tile\",\"aria-label\":\"book tile\",onChange:handleInputChange}),/*#__PURE__*/React.createElement(\"div\",{class:\"input-group-append\"},/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-secondary\",id:\"btnSearch\",onClick:searchBooks},\"Search\"))),searchBookResult.map(function(book,index){return/*#__PURE__*/React.createElement(\"div\",{id:index,style:container},/*#__PURE__*/React.createElement(BookInfo,book));}));}export default Search;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/googlebooksreact/Client/src/Components/Search.js"],"names":["React","useState","BookInfo","booksArr","Search","searchInput","setSearchInput","searchBookResult","setSearchBookResult","handleInputChange","e","input","target","value","console","log","container","flex","flexDirection","flexWrap","padding","searchBooks","fetch","then","result","json","apiBooks","items","i","length","obj","title","image","desc","bookObj","volumeInfo","ObjForAll","ids","book","push","map","index"],"mappings":"2iBAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,GAAIC,CAAAA,QAAQ,CAAE,EAAd,CACA,QAASC,CAAAA,MAAT,EAAkB,eACuBH,QAAQ,CAAC,EAAD,CAD/B,wCACPI,WADO,eACKC,cADL,8BAEiCL,QAAQ,CAAC,EAAD,CAFzC,yCAEPM,gBAFO,eAEUC,mBAFV,eAId,QAASC,CAAAA,iBAAT,CAA2BC,CAA3B,CAA6B,CACzB,GAAMC,CAAAA,KAAK,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAvB,CACAC,OAAO,CAACC,GAAR,oBAA+BJ,KAA/B,EACAL,cAAc,CAACK,KAAD,CAAd,CAEH,CACD,GAAMK,CAAAA,SAAS,CAAG,CACdC,IAAI,CAAC,CADS,CAEdC,aAAa,CAAC,KAFA,CAGdC,QAAQ,CAAC,MAHK,CAIdC,OAAO,CAAC,MAJM,CAAlB,CAVc,QAgBCC,CAAAA,WAhBD,2IAgBd,oMAC+BC,CAAAA,KAAK,yDAAkDjB,WAAlD,aAAL,CAA8EkB,IAA9E,CAAoF,SAAAC,MAAM,QAAEA,CAAAA,MAAM,CAACC,IAAP,EAAF,EAA1F,CAD/B,QACcC,QADd,eAEQZ,OAAO,CAACC,GAAR,sCAAiDW,QAAjD,EACMC,KAHd,CAGsBD,QAAQ,CAACC,KAH/B,CAIQ,IAAQC,CAAR,CAAU,CAAV,CAAYA,CAAC,CAACD,KAAK,CAACE,MAAN,CAAa,CAA3B,CAA6BD,CAAC,EAA9B,CAAiC,CACzBE,GADyB,CACnB,CACNC,KAAK,gBAASH,CAAT,CADC,CAENI,KAAK,gBAASJ,CAAT,CAFC,CAGNK,IAAI,eAAQL,CAAR,CAHE,CAINA,CAAC,WAAIA,CAAJ,CAJK,CADmB,CAOzBM,OAPyB,CAOfP,KAAK,CAACC,CAAD,CAAL,CAASO,UAPM,CAQzBC,SARyB,CAQb,CACZC,GAAG,CAAEP,GADO,CAEZQ,IAAI,CAAGJ,OAFK,CARa,CAY7B/B,QAAQ,CAACoC,IAAT,CAAcH,SAAd,EACH,EACD5B,mBAAmB,CAACL,QAAD,CAAnB,CACAA,QAAQ,CAAE,EAAV,CAnBR,sDAhBc,8CAuCd,mBACI,2BAAK,KAAK,CAAC,WAAX,eACI,2BAAK,KAAK,CAAC,uBAAX,eACI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,KAAK,CAAEE,WAA/C,CAA4D,WAAW,CAAC,YAAxE,CAAqF,aAAW,WAAhG,CAA4G,QAAQ,CAAEI,iBAAtH,EADJ,cAEQ,2BAAK,KAAK,CAAC,oBAAX,eACI,8BAAQ,KAAK,CAAC,mBAAd,CAAkC,EAAE,CAAC,WAArC,CAAiD,OAAO,CAAEY,WAA1D,WADJ,CAFR,CADJ,CAOKd,gBAAgB,CAACiC,GAAjB,CAAsB,SAACF,IAAD,CAAMG,KAAN,qBAAc,2BAAK,EAAE,CAAEA,KAAT,CAAiB,KAAK,CAAEzB,SAAxB,eAAoC,oBAAC,QAAD,CAAcsB,IAAd,CAApC,CAAd,EAAtB,CAPL,CADJ,CAWK,CAET,cAAelC,CAAAA,MAAf","sourcesContent":["import React,{useState} from 'react';\n\nimport BookInfo from './BookInfo';\nlet booksArr =[]; \nfunction Search() {\n    const [searchInput,setSearchInput] = useState('');\n    const [searchBookResult,setSearchBookResult] = useState([]);\n\n    function handleInputChange(e){\n        const input = e.target.value;\n        console.log(`[input Received]`,input);\n        setSearchInput(input);\n\n    }\n    const container = {\n        flex:1,\n        flexDirection:'row',\n        flexWrap:'wrap',\n        padding:'20px'\n    }\n    async function searchBooks(){  \n            const apiBooks = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchInput}+intitle`).then( result=>result.json() );\n            console.log(`[Object Received From Google Apis]`,apiBooks);\n            const items = apiBooks.items;\n            for(let i=1;i<items.length-2;i++){\n                let obj = {\n                    title:`title${i}`,\n                    image:`image${i}`,\n                    desc:`desc${i}`,\n                    i:`${i}`\n                }\n                let bookObj = items[i].volumeInfo;\n                let ObjForAll = {\n                    ids: obj,\n                    book : bookObj\n                }\n                booksArr.push(ObjForAll);\n            };\n            setSearchBookResult(booksArr);\n            booksArr =[];\n    }\n\n    \n    return (\n        <div class='container'>\n            <div class=\"input-group mt-5 mb-3\" >\n                <input type=\"text\" class=\"form-control\" value={searchInput} placeholder=\"Books tile\" aria-label=\"book tile\" onChange={handleInputChange} />\n                    <div class=\"input-group-append\">\n                        <button class='btn btn-secondary' id=\"btnSearch\" onClick={searchBooks}>Search</button>\n                    </div>\n            </div>\n            {searchBookResult.map( (book,index)=><div id={index}  style={container} ><BookInfo {...book} /></div>)}\n        </div>\n        );\n        }\n        \nexport default Search;"]},"metadata":{},"sourceType":"module"}