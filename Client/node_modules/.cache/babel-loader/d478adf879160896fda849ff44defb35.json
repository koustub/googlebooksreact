{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/googlebooksreact/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/googlebooksreact/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import axios from'axios';function BookInfo(props){function save(_x){return _save.apply(this,arguments);}function _save(){_save=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var s,title,image,desc,obj,apiResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:s=e.target.id;console.log(\"[id of the button]\",s);title=document.getElementById(\"title\".concat(s));image=document.getElementById(\"image\".concat(s));desc=document.getElementById(\"desc\".concat(s));_context.prev=5;obj={title:title.innerHTML,imageLink:image.getAttribute('src'),authors:[''],description:desc.innerHTML,index:props.ids.i};console.log(\"[obj needs to be saved]\",obj);_context.next=10;return fetch('/api/saveBooks',{method:'post',headers:{'Accept':'application/json, text/plain, */*','Content-Type':'application/json'},body:JSON.stringify(obj)}).then(function(result){return console.log(result);});case 10:apiResult=_context.sent;_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](5);console.log(\"[Error given]\",_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[5,13]]);}));return _save.apply(this,arguments);}console.log(\"[object for id]\",JSON.stringify(props.ids));var savebtn={float:'right',marginRight:'2px',borderRadius:'5px'};var image;if(props.book.hasOwnProperty('imageLinks')){image=props.book.imageLinks.thumbnail;}else{image='https://imgplaceholder.com/128x192?text=No+Image';}return/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 col-sm-12 col-md-12 col-lg-5\"},/*#__PURE__*/React.createElement(\"h2\",{id:props.ids.title},props.book.title),/*#__PURE__*/React.createElement(\"img\",{id:props.ids.image,src:image,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 col-sm-12 col-md-12 col-lg-7\"},/*#__PURE__*/React.createElement(\"p\",{id:props.ids.desc},\"Description: \",props.book.description),/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-secondary\",id:props.ids.i,onClick:save,style:savebtn},\"save\"),/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-secondary\",style:savebtn},\"view\")));}export default BookInfo;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/googlebooksreact/Client/src/Components/BookInfo.js"],"names":["React","axios","BookInfo","props","save","e","s","target","id","console","log","title","document","getElementById","image","desc","obj","innerHTML","imageLink","getAttribute","authors","description","index","ids","i","fetch","method","headers","body","JSON","stringify","then","result","apiResult","savebtn","float","marginRight","borderRadius","book","hasOwnProperty","imageLinks","thumbnail"],"mappings":"iXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAwB,SAEDC,CAAAA,IAFC,wHAEhB,iBAAoBC,CAApB,uJACIC,CADJ,CACQD,CAAC,CAACE,MAAF,CAASC,EADjB,CAEAC,OAAO,CAACC,GAAR,sBAAiCJ,CAAjC,EACIK,KAHJ,CAGYC,QAAQ,CAACC,cAAT,gBAAgCP,CAAhC,EAHZ,CAIIQ,KAJJ,CAIYF,QAAQ,CAACC,cAAT,gBAAgCP,CAAhC,EAJZ,CAKIS,IALJ,CAKWH,QAAQ,CAACC,cAAT,eAA+BP,CAA/B,EALX,iBAQIU,GARJ,CAQU,CACNL,KAAK,CAACA,KAAK,CAACM,SADN,CAENC,SAAS,CAACJ,KAAK,CAACK,YAAN,CAAmB,KAAnB,CAFJ,CAGNC,OAAO,CAAC,CAAC,EAAD,CAHF,CAINC,WAAW,CAACN,IAAI,CAACE,SAJX,CAKNK,KAAK,CAACnB,KAAK,CAACoB,GAAN,CAAUC,CALV,CARV,CAeAf,OAAO,CAACC,GAAR,2BAAsCM,GAAtC,EAfA,uBAgBwBS,CAAAA,KAAK,CAAC,gBAAD,CAC7B,CAAIC,MAAM,CAAE,MAAZ,CACIC,OAAO,CAAE,CACL,SAAU,mCADL,CAEL,eAAgB,kBAFX,CADb,CAKIC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAed,GAAf,CALV,CAD6B,CAAL,CAOvBe,IAPuB,CAOjB,SAAAC,MAAM,QAAEvB,CAAAA,OAAO,CAACC,GAAR,CAAYsB,MAAZ,CAAF,EAPW,CAhBxB,SAgBMC,SAhBN,gGA0BCxB,OAAO,CAACC,GAAR,8BA1BD,qEAFgB,uCA+BpBD,OAAO,CAACC,GAAR,mBAA8BmB,IAAI,CAACC,SAAL,CAAe3B,KAAK,CAACoB,GAArB,CAA9B,EACA,GAAMW,CAAAA,OAAO,CAAE,CACXC,KAAK,CAAC,OADK,CAEXC,WAAW,CAAC,KAFD,CAGXC,YAAY,CAAC,KAHF,CAAf,CAKA,GAAIvB,CAAAA,KAAJ,CACA,GAAGX,KAAK,CAACmC,IAAN,CAAWC,cAAX,CAA0B,YAA1B,CAAH,CAA2C,CACtCzB,KAAK,CAAGX,KAAK,CAACmC,IAAN,CAAWE,UAAX,CAAsBC,SAA9B,CACJ,CAFD,IAGI,CACC3B,KAAK,CAAG,kDAAR,CACJ,CAED,mBAAQ,2BAAK,KAAK,CAAC,KAAX,eACI,2BAAK,KAAK,CAAC,qCAAX,eACI,0BAAI,EAAE,CAAEX,KAAK,CAACoB,GAAN,CAAUZ,KAAlB,EAA0BR,KAAK,CAACmC,IAAN,CAAW3B,KAArC,CADJ,cAEI,2BAAK,EAAE,CAAER,KAAK,CAACoB,GAAN,CAAUT,KAAnB,CAA0B,GAAG,CAAEA,KAA/B,CAAsC,GAAG,CAAC,EAA1C,EAFJ,CADJ,cAKI,2BAAK,KAAK,CAAC,qCAAX,eACI,yBAAG,EAAE,CAAEX,KAAK,CAACoB,GAAN,CAAUR,IAAjB,kBAAqCZ,KAAK,CAACmC,IAAN,CAAWjB,WAAhD,CADJ,cAEI,8BAAQ,KAAK,CAAC,mBAAd,CAAkC,EAAE,CAAElB,KAAK,CAACoB,GAAN,CAAUC,CAAhD,CAAmD,OAAO,CAAEpB,IAA5D,CAAkE,KAAK,CAAE8B,OAAzE,SAFJ,cAGI,8BAAQ,KAAK,CAAC,mBAAd,CAAmC,KAAK,CAAEA,OAA1C,SAHJ,CALJ,CAAR,CAYH,CAED,cAAehC,CAAAA,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nfunction BookInfo(props){\n    \n        async function save(e){\n        let s = e.target.id;\n        console.log(`[id of the button]`,s);\n        let title = document.getElementById(`title${s}`);\n        let image = document.getElementById(`image${s}`);\n        let desc = document.getElementById(`desc${s}`);\n       \n      try {\n        let obj = {\n            title:title.innerHTML,\n            imageLink:image.getAttribute('src'),\n            authors:[''],\n            description:desc.innerHTML,\n            index:props.ids.i\n        }\n        console.log(`[obj needs to be saved]`,obj)\n        const apiResult = await fetch('/api/saveBooks', \n        {   method: 'post',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(obj)\n      }).then( result=>console.log(result));\n     }\n     catch(err){\n         console.log(`[Error given]`,err)\n     }\n        }\n    console.log(`[object for id]`,JSON.stringify(props.ids));\n    const savebtn ={\n        float:'right',\n        marginRight:'2px',\n        borderRadius:'5px'\n    }\n    let image;\n    if(props.book.hasOwnProperty('imageLinks')){\n         image = props.book.imageLinks.thumbnail;\n    }\n    else{\n         image = 'https://imgplaceholder.com/128x192?text=No+Image'\n    }\n    \n    return( <div class='row'>\n                <div class='col-12 col-sm-12 col-md-12 col-lg-5'>\n                    <h2 id={props.ids.title}>{props.book.title}</h2>\n                    <img id={props.ids.image} src={image} alt='' />\n                </div>\n                <div class='col-12 col-sm-12 col-md-12 col-lg-7'>\n                    <p id={props.ids.desc}>Description: {props.book.description}</p> \n                    <button class='btn btn-secondary' id={props.ids.i} onClick={save} style={savebtn}>save</button>\n                    <button class='btn btn-secondary'  style={savebtn}>view</button>\n                </div>\n            </div>\n    );\n}\n\nexport default BookInfo;"]},"metadata":{},"sourceType":"module"}